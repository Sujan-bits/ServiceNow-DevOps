# Starter pipeline
# Start with a minimal pipeline that can be customized to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

# trigger:
# - main

pool: mySelfHostedAP

stages:
- stage: DeploytoPDI
  displayName: 'Deploy to PDI'
  jobs:
    - deployment: DeployApp
      displayName: 'Deploy Application'
      environment: 'Target-instance'
      strategy:
       runOnce:
         deploy:
           steps:
             - task: ServiceNow-CICD-SC-Apply@2
               displayName: 'Apply ServiceNow Update Set'
               inputs:
                 connectedServiceName: ServiceNow-CICD
                 appScope: x_1126772_project
                 appSysId: d70bf8a183003210109ac5b5eeaad371
                 branchName: main
